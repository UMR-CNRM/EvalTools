
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial &#8212; evaltools 2.0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=f5cff4aa"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'source/tutorial';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tips" href="tips.html" />
    <link rel="prev" title="User guide" href="guide.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="2.0.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="evaltools 2.0.1 documentation - Home"/>
    <img src="../_static/logo.svg" class="logo__image only-dark pst-js-only" alt="evaltools 2.0.1 documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="guide.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="evaltools.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="guide.html">
    User guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="evaltools.html">
    API reference
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="guide.html"
                          title="previous chapter">User guide</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="tips.html"
                          title="next chapter">Tips</a></p>
  </div></div>
        <div class="sidebar-primary-item">
<div id="searchbox"></div></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="guide.html" class="nav-link">User guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Tutorial</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Link to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h2>
<p>First you have to import the package.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">evaltools</span> <span class="k">as</span> <span class="nn">evt</span>
</pre></div>
</div>
<p>In this package, the main class of objects is
<a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a>.
From an object of this kind you can compute all sort of statistics
and draw charts.
Classes <a class="reference internal" href="evaltools.html#evaltools.evaluator.Observations" title="evaltools.evaluator.Observations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Observations</span></code></a> and
<a class="reference internal" href="evaltools.html#evaltools.evaluator.Simulations" title="evaltools.evaluator.Simulations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulations</span></code></a> are precursors
of <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a>. These two classes are
quite similar and the main way to instanciate them is by reading timeseries
files. What we call a timeseries file is a file containing two columns
separated by one or more space, the first column containing times (in
yyyymmddhh format) and the second column containing float values.
Examples of timeseries files can be found in “doc/sample_data”.</p>
<p>To begin working with <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a>
objects you need a list of stations.
A example of a station listing is located in “doc/sample_data” and can be
read by
<a class="reference internal" href="evaltools.html#evaltools.utils.read_listing" title="evaltools.utils.read_listing"><code class="xref py py-func docutils literal notranslate"><span class="pre">utils.read_listing</span></code></a>.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [2]: </span><span class="n">stations</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">read_listing</span><span class="p">(</span><span class="s2">&quot;./sample_data/listing&quot;</span><span class="p">)</span>

<span class="gp">In [3]: </span><span class="n">stations</span>
<span class="gh">Out[3]: </span>
<span class="go">        site area       lat       lon</span>
<span class="go">code                                 </span>
<span class="go">AD0942A  bac  urb  42.50969   1.53914</span>
<span class="go">AT0VOR1  bac  rur  46.67970  12.97190</span>
<span class="go">AT10001  bac  sub  47.84000  16.52670</span>
<span class="go">AT31401  bac  sub  48.08610  16.30220</span>
<span class="go">AT31402  tra  sub  48.12500  16.33170</span>
<span class="go">CH0002R  bac  rur  46.81310   6.94447</span>
<span class="go">CH0005A  bac  sub  47.40290   8.61341</span>
<span class="go">CH0005R  bac  rur  47.06740   8.46334</span>
<span class="go">CH0010A  bac  urb  47.37760   8.53042</span>
<span class="go">CZ0ALIB  bac  sub  50.00730  14.44590</span>
<span class="go">CZ0HHKB  tra  urb  50.19540  15.84640</span>
<span class="go">CZ0JKOS  bac  rur  49.57340  15.08030</span>
<span class="go">CZ0PPLA  tra  urb  49.73240  13.40230</span>
<span class="go">CZ0TOPR  ind  urb  49.85630  18.26970</span>
</pre></div>
</div>
<p>We can now instanciate <a class="reference internal" href="evaltools.html#evaltools.evaluator.Observations" title="evaltools.evaluator.Observations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Observations</span></code></a>
and <a class="reference internal" href="evaltools.html#evaltools.evaluator.Simulations" title="evaltools.evaluator.Simulations"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulations</span></code></a> objects from
“doc/sample_data” timseries files.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [4]: </span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span>

<span class="gp">In [5]: </span><span class="n">start_date</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="gp">In [6]: </span><span class="n">end_date</span> <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>

<span class="gp">In [7]: </span><span class="n">observations</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">Observations</span><span class="o">.</span><span class="n">from_time_series</span><span class="p">(</span>
<span class="gp">   ...: </span>    <span class="n">generic_file_path</span><span class="o">=</span><span class="s2">&quot;./sample_data/observations/</span><span class="si">{year}</span><span class="s2">_co_</span><span class="si">{station}</span><span class="s2">&quot;</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">correc_unit</span><span class="o">=</span><span class="mf">1e9</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">species</span><span class="o">=</span><span class="s1">&#39;co&#39;</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">stations</span> <span class="o">=</span> <span class="n">stations</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">forecast_horizon</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">   ...: </span><span class="p">)</span>
<span class="gp">   ...: </span>

<span class="gp">In [8]: </span><span class="n">simulations</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">from_time_series</span><span class="p">(</span>
<span class="gp">   ...: </span>    <span class="n">generic_file_path</span><span class="o">=</span><span class="p">(</span>
<span class="gp">   ...: </span>        <span class="s2">&quot;./sample_data/ENSforecast/J</span><span class="si">{forecastDay}</span><span class="s2">/</span><span class="si">{year}</span><span class="s2">_co_</span><span class="si">{station}</span><span class="s2">&quot;</span>
<span class="gp">   ...: </span>    <span class="p">),</span>
<span class="gp">   ...: </span>    <span class="n">stations_idx</span><span class="o">=</span><span class="n">stations</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">species</span><span class="o">=</span><span class="s1">&#39;co&#39;</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">model</span><span class="o">=</span><span class="s1">&#39;ENS&#39;</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
<span class="gp">   ...: </span>    <span class="n">forecast_horizon</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">   ...: </span><span class="p">)</span>
<span class="gp">   ...: </span>
</pre></div>
</div>
<p>To understand the meaning of all the arguments, do not hesitate to refer
to the <a class="reference internal" href="evaltools.html"><span class="doc">API documentation</span></a>.</p>
<p>Let’s create an <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a> object and
start using its methods to compute statistics.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [9]: </span><span class="n">eval_object</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">Evaluator</span><span class="p">(</span><span class="n">observations</span><span class="p">,</span> <span class="n">simulations</span><span class="p">)</span>

<span class="gp">In [10]: </span><span class="n">eval_object</span><span class="o">.</span><span class="n">temporal_scores</span><span class="p">([</span><span class="s1">&#39;RMSE&#39;</span><span class="p">,</span> <span class="s1">&#39;FracBias&#39;</span><span class="p">,</span> <span class="s1">&#39;PearsonR&#39;</span><span class="p">])</span>
<span class="gh">Out[10]: </span>
<span class="go">{&#39;D0&#39;:                RMSE   FracBias  PearsonR</span>
<span class="go"> code                                    </span>
<span class="go"> AD0942A         NaN        NaN       NaN</span>
<span class="go"> AT0VOR1   66.870066  76.484397  0.456633</span>
<span class="go"> AT10001   55.469560   2.077277  0.148668</span>
<span class="go"> AT31401   32.292246  -4.318267  0.285162</span>
<span class="go"> AT31402   28.410182  -1.741556  0.586555</span>
<span class="go"> CH0002R   35.112389  24.917451  0.552076</span>
<span class="go"> CH0005A   42.676788  12.441253  0.487120</span>
<span class="go"> CH0005R   38.758369  24.589524  0.542966</span>
<span class="go"> CH0010A   43.559315  -8.311611  0.448940</span>
<span class="go"> CZ0ALIB  177.729834 -77.750712  0.452760</span>
<span class="go"> CZ0HHKB   98.413269 -49.804323  0.303197</span>
<span class="go"> CZ0JKOS   69.449904 -42.804008  0.366283</span>
<span class="go"> CZ0PPLA  144.927767 -70.661566  0.262523</span>
<span class="go"> CZ0TOPR  123.694578   8.622130 -0.022233,</span>
<span class="go"> &#39;D1&#39;:                RMSE   FracBias  PearsonR</span>
<span class="go"> code                                    </span>
<span class="go"> AD0942A         NaN        NaN       NaN</span>
<span class="go"> AT0VOR1   61.796662  72.098937  0.201367</span>
<span class="go"> AT10001   52.191512 -14.062444  0.161187</span>
<span class="go"> AT31401   32.975884  -6.221032  0.367900</span>
<span class="go"> AT31402   30.017664  -2.887712  0.569830</span>
<span class="go"> CH0002R   29.146724  21.548927  0.661740</span>
<span class="go"> CH0005A   35.064446   6.494999  0.517632</span>
<span class="go"> CH0005R   31.830369  19.650583  0.621802</span>
<span class="go"> CH0010A   47.011353 -15.433575  0.430434</span>
<span class="go"> CZ0ALIB  158.377078 -70.658442  0.670168</span>
<span class="go"> CZ0HHKB   93.912730 -47.933881  0.434367</span>
<span class="go"> CZ0JKOS   58.997009 -34.301921  0.678209</span>
<span class="go"> CZ0PPLA  136.110242 -69.087018  0.496665</span>
<span class="go"> CZ0TOPR  129.461101  13.036248  0.055859}</span>
</pre></div>
</div>
</section>
<section id="plotting">
<h2>Plotting<a class="headerlink" href="#plotting" title="Link to this heading">#</a></h2>
<p>All plotting functions are gathered in
<a class="reference internal" href="evaltools.html#module-evaltools.plotting.plotting" title="evaltools.plotting.plotting"><code class="xref py py-mod docutils literal notranslate"><span class="pre">plotting</span></code></a>
module. For instance, let’s draw mean RMSE over the 2 days forecast period with
<a class="reference internal" href="evaltools.html#evaltools.plotting.plotting.plot_mean_time_scores" title="evaltools.plotting.plotting.plot_mean_time_scores"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot_mean_time_scores</span></code></a>
function.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [11]: </span><span class="n">evt</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_mean_time_scores</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="p">[</span><span class="n">eval_object</span><span class="p">],</span>
<span class="gp">   ....: </span>    <span class="n">output_file</span><span class="o">=</span><span class="s2">&quot;./source/charts/mean_RMSE_ENS&quot;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">score</span><span class="o">=</span><span class="s1">&#39;RMSE&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[11]: </span>
<span class="go">(&lt;Figure size 800x500 with 1 Axes&gt;,</span>
<span class="go"> &lt;Axes: xlabel=&#39;Forecast time (hour)&#39;, ylabel=&#39;RMSE&#39;&gt;)</span>
</pre></div>
</div>
<p>And we get:</p>
<img alt="../_images/mean_RMSE_ENS.png" src="../_images/mean_RMSE_ENS.png" />
<p>If we want more than one simulation drawn on the graph, we just have to
create other <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a> objects and
pass them to the plotting function.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [12]: </span><span class="n">simulations2</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">Simulations</span><span class="o">.</span><span class="n">from_time_series</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">generic_file_path</span><span class="o">=</span><span class="p">(</span>
<span class="gp">   ....: </span>        <span class="s2">&quot;./sample_data/MFMforecast/J</span><span class="si">{forecastDay}</span><span class="s2">/</span><span class="si">{year}</span><span class="s2">_co_</span><span class="si">{station}</span><span class="s2">&quot;</span>
<span class="gp">   ....: </span>    <span class="p">),</span>
<span class="gp">   ....: </span>    <span class="n">stations_idx</span><span class="o">=</span><span class="n">stations</span><span class="o">.</span><span class="n">index</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">species</span><span class="o">=</span><span class="s1">&#39;co&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">model</span><span class="o">=</span><span class="s1">&#39;MFM&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">forecast_horizon</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [13]: </span><span class="n">eval_object2</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">Evaluator</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="n">observations</span><span class="p">,</span> <span class="n">simulations2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#00FFFF&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>

<span class="gp">In [14]: </span><span class="n">evt</span><span class="o">.</span><span class="n">plotting</span><span class="o">.</span><span class="n">plot_mean_time_scores</span><span class="p">(</span>
<span class="gp">   ....: </span>    <span class="p">[</span><span class="n">eval_object</span><span class="p">,</span> <span class="n">eval_object2</span><span class="p">],</span>
<span class="gp">   ....: </span>    <span class="n">output_file</span><span class="o">=</span><span class="s2">&quot;./source/charts/mean_RMSE_MFM&quot;</span><span class="p">,</span>
<span class="gp">   ....: </span>    <span class="n">score</span><span class="o">=</span><span class="s1">&#39;RMSE&#39;</span><span class="p">,</span>
<span class="gp">   ....: </span><span class="p">)</span>
<span class="gp">   ....: </span>
<span class="gh">Out[14]: </span>
<span class="go">(&lt;Figure size 800x500 with 1 Axes&gt;,</span>
<span class="go"> &lt;Axes: xlabel=&#39;Forecast time (hour)&#39;, ylabel=&#39;RMSE&#39;&gt;)</span>
</pre></div>
</div>
<p>And we get:</p>
<img alt="../_images/mean_RMSE_MFM.png" src="../_images/mean_RMSE_MFM.png" />
</section>
<section id="different-types-of-series">
<h2>Different types of series<a class="headerlink" href="#different-types-of-series" title="Link to this heading">#</a></h2>
<p><a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a> objects have a series type
attribute</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [15]: </span><span class="n">eval_object</span><span class="o">.</span><span class="n">series_type</span>
<span class="gh">Out[15]: </span><span class="go">&#39;hourly&#39;</span>
</pre></div>
</div>
<p>Here, the series type is <code class="docutils literal notranslate"><span class="pre">&quot;hourly&quot;</span></code>. Indeed, when we construct an object
from timeseries file, it is the default value which means we work with
data measured at hourly time steps.</p>
<p>Some <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a> methods will return an
object with <code class="docutils literal notranslate"><span class="pre">seriesType</span></code> attribute equal to <code class="docutils literal notranslate"><span class="pre">&quot;daily&quot;</span></code>.</p>
<p>For instance,</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [16]: </span><span class="n">daily_max_object</span> <span class="o">=</span>  <span class="n">eval_object</span><span class="o">.</span><span class="n">daily_max</span><span class="p">()</span>

<span class="gp">In [17]: </span><span class="n">daily_max_object</span><span class="o">.</span><span class="n">series_type</span>
<span class="gh">Out[17]: </span><span class="go">&#39;daily&#39;</span>
</pre></div>
</div>
<p>We have thus created a new <a class="reference internal" href="evaltools.html#evaltools.evaluator.Evaluator" title="evaltools.evaluator.Evaluator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Evaluator</span></code></a>
object which data is now composed of daily maximum values. Let’s compare
observation data held within <code class="docutils literal notranslate"><span class="pre">eval_object</span></code> and <code class="docutils literal notranslate"><span class="pre">daily_max_object</span></code> for a
given station.</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [18]: </span><span class="n">eval_object</span><span class="o">.</span><span class="n">obs_df</span><span class="p">[</span><span class="s1">&#39;AT0VOR1&#39;</span><span class="p">]</span>
<span class="gh">Out[18]: </span>
<span class="go">2017-06-01 00:00:00    52.42</span>
<span class="go">2017-06-01 01:00:00    51.94</span>
<span class="go">2017-06-01 02:00:00    52.91</span>
<span class="go">2017-06-01 03:00:00    51.51</span>
<span class="go">2017-06-01 04:00:00    50.15</span>
<span class="go">                       ...  </span>
<span class="go">2017-06-07 19:00:00    63.87</span>
<span class="go">2017-06-07 20:00:00    64.79</span>
<span class="go">2017-06-07 21:00:00    63.82</span>
<span class="go">2017-06-07 22:00:00    60.28</span>
<span class="go">2017-06-07 23:00:00    61.20</span>
<span class="go">Freq: h, Name: AT0VOR1, Length: 168, dtype: float64</span>
</pre></div>
</div>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [19]: </span><span class="n">daily_max_object</span><span class="o">.</span><span class="n">obs_df</span><span class="p">[</span><span class="s1">&#39;AT0VOR1&#39;</span><span class="p">]</span>
<span class="gh">Out[19]: </span>
<span class="go">2017-06-01    62.95</span>
<span class="go">2017-06-02    56.01</span>
<span class="go">2017-06-03    81.38</span>
<span class="go">2017-06-04    76.19</span>
<span class="go">2017-06-05    59.85</span>
<span class="go">2017-06-06    55.10</span>
<span class="go">2017-06-07    64.79</span>
<span class="go">Freq: D, Name: AT0VOR1, dtype: float64</span>
</pre></div>
</div>
<p>Data with <code class="docutils literal notranslate"><span class="pre">daily_max_object</span></code> is given at daily time steps. Yet we can still
apply statical methods to this object to get scores per station for instance:</p>
<div class="highlight-ipython notranslate"><div class="highlight"><pre><span></span><span class="gp">In [20]: </span><span class="n">daily_max_object</span><span class="o">.</span><span class="n">temporal_scores</span><span class="p">([</span><span class="s1">&#39;RMSE&#39;</span><span class="p">,</span> <span class="s1">&#39;FracBias&#39;</span><span class="p">,</span> <span class="s1">&#39;PearsonR&#39;</span><span class="p">])</span>
<span class="gh">Out[20]: </span>
<span class="go">{&#39;D0&#39;:                RMSE   FracBias  PearsonR</span>
<span class="go"> code                                    </span>
<span class="go"> AD0942A         NaN        NaN       NaN</span>
<span class="go"> AT0VOR1   63.329672  65.026561  0.715997</span>
<span class="go"> AT10001   63.759279 -23.786831 -0.041307</span>
<span class="go"> AT31401   58.265557 -15.302091 -0.153068</span>
<span class="go"> AT31402   46.254672 -14.800695  0.748693</span>
<span class="go"> CH0002R   22.051733   0.446444  0.747533</span>
<span class="go"> CH0005A   46.558323  15.454695  0.117165</span>
<span class="go"> CH0005R   44.290206  26.646097  0.514922</span>
<span class="go"> CH0010A   44.039217  -7.093002  0.368658</span>
<span class="go"> CZ0ALIB  221.122365 -82.283008  0.340032</span>
<span class="go"> CZ0HHKB  194.293000 -77.853086 -0.416637</span>
<span class="go"> CZ0JKOS   82.474228 -46.437766  0.495443</span>
<span class="go"> CZ0PPLA  257.489557 -90.305736 -0.277682</span>
<span class="go"> CZ0TOPR  280.335540 -27.149906 -0.498600,</span>
<span class="go"> &#39;D1&#39;:                RMSE   FracBias  PearsonR</span>
<span class="go"> code                                    </span>
<span class="go"> AD0942A         NaN        NaN       NaN</span>
<span class="go"> AT0VOR1   58.092060  60.541266  0.387109</span>
<span class="go"> AT10001   88.435543 -36.932643 -0.093816</span>
<span class="go"> AT31401   51.828971 -18.108193  0.548205</span>
<span class="go"> AT31402   43.623464 -14.001010  0.850362</span>
<span class="go"> CH0002R   21.684452  -0.902961  0.833997</span>
<span class="go"> CH0005A   46.927265   6.196613 -0.093322</span>
<span class="go"> CH0005R   40.043196  24.650734  0.668365</span>
<span class="go"> CH0010A   63.875332 -13.771354 -0.368416</span>
<span class="go"> CZ0ALIB  198.456905 -77.289600  0.774305</span>
<span class="go"> CZ0HHKB  185.439242 -74.547842  0.040638</span>
<span class="go"> CZ0JKOS   70.772303 -39.570297  0.714519</span>
<span class="go"> CZ0PPLA  175.483594 -77.518512  0.563888</span>
<span class="go"> CZ0TOPR  279.958989 -27.023042 -0.171968}</span>
</pre></div>
</div>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="guide.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">User guide</p>
      </div>
    </a>
    <a class="right-next"
       href="tips.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Tips</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#plotting">Plotting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#different-types-of-series">Different types of series</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Météo France (2017-2023).
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>